<p-accordion [value]="defaultValues()" [multiple]="multiple()">
  @for (item of items(); track item.id) {
    <p-accordion-panel class="last-of-type:border-0!" [value]="item.id">
      <p-accordion-header class="px-2">
        <ng-template #toggleicon let-isActive="active">
          @if (isActive) {
            <ui-icon name="lucideChevronDown"></ui-icon>
          } @else {
            <ui-icon name="lucideChevronRight"></ui-icon>
          }
        </ng-template>

        <span class="text-sm font-semibold">{{ item.label }}</span>
        <small class="text-xs font-semibold text-gray-500 ml-auto mr-2">
          {{ item.items.length }}
        </small>
      </p-accordion-header>

      <p-accordion-content class="p-0! overflow-y-auto">
        <ng-container
          [ngTemplateOutlet]="content()"
          [ngTemplateOutletContext]="{
            $implicit: item.items,
            index: $index,
          }"
        ></ng-container>
      </p-accordion-content>
    </p-accordion-panel>
  }
</p-accordion>
<ng-content select="ng-template[content]"></ng-content>
